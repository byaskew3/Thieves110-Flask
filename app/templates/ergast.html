{% extends 'base.html' %}

{% block title %}
Ergast
{% endblock %}

{% block content %}
<h1 class="ergast">Ergast Form</h1>
<form action="{{url_for('main.ergast')}}" method="POST">
    <div class="form-group">
      <label for="year">Year</label>
      <input type="number" name="year" class="form-control" id="year">
    </div>
    <div class="form-group">
      <label for="rnd">Round</label>
      <input type="number" name="rnd" class="form-control" id="rnd">
    </div>
    <button type="submit" class="btn btn-primary">Submit</button>
    <div style="color:red">
      <small>{{error}}</small>
    </div>
</form>

{% if new_driver_data %}
<table class="table table-striped table-hover table-dark">
    <thead>
      <tr>
        <th scope="col">Name</th>
        <th scope="col">DOB</th>
        <th scope="col">Wins</th>
        <th scope="col">Team</th>
      </tr>
    </thead>
    <tbody>
        {% for driver in new_driver_data %}
            <tr>
            <th scope="row">{{driver.first_name}} {{driver.last_name}}</th>
            <td>{{driver.DOB}}</td>
            <td>{{driver.wins}}</td>
            <td>{{driver.team}}</td>
            </tr>
        {% endfor %}
    </tbody>
  </table>
{% endif %}
{% endblock %}